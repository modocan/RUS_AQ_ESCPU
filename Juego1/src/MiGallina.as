package {import flash.display.MovieClip;import flash.events.Event;public class MiGallina extends MovieClip{    public var clip:MovieClip;    private var arr_estados:Array = ['gallinaAleteo', 'gallinaPicoteo', 'gallinaCaminaDer', 'gallinaPicoteoDer', 'gallinaCaminaIzq'];    public var estado:String;    private var _this:MiGallina;    public var tirar=false;        public function MiGallina(){            super();            _this = this;            _this.addEventListener(Event.ADDED_TO_STAGE, init);        }    private function init(e:Event):void {        _this.removeEventListener(Event.ADDED_TO_STAGE, init);    }    public function anima(anim:String = ''):void    {        //Debug.trace('anim: '+anim);        for (var _i:int = 0; _i < this.numChildren; _i++){            MovieClip(this.getChildAt(_i)).gotoAndStop(1);            MovieClip(this.getChildAt(_i)).visible = false;        }        if(anim != ''){            MovieClip(this.getChildByName(anim)).visible = true;            MovieClip(this.getChildByName(anim)).gotoAndPlay(1);            estado = anim= this.getChildByName(arr_estados[indice]).name;        }        else{            var indice:int=Math.floor(1 + (Math.random() * (arr_estados.length-1)));            //Debug.trace(indice, Debug.LEVEL_ERROR);            //Debug.trace(arr_estados[indice]);            //Debug.trace(this.getChildByName(arr_estados[indice]).name, Debug.LEVEL_ERROR);            MovieClip(this.getChildByName(arr_estados[indice])).visible = true;            MovieClip(this.getChildByName(arr_estados[indice])).gotoAndPlay(1);            estado = anim= this.getChildByName(arr_estados[indice]).name;        }    }    public function finPonerHuevo():void    {        //Debug.trace('[HUEVO TIRADO]', Debug.LEVEL_ERROR);        tirar=true;        anima();    }    private function gallinaLista(e:Event):void {        if(MovieClip(_this.getChildByName('gallinaAleteo')).currentFrameLabel=='listo'){            tirar=true;            anima();        }    }    }}